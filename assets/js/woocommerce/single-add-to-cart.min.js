"use strict";function singleAddToCartButton(){var l=document.getElementsByClassName("cart")[0],t=!!l&&l.getElementsByClassName("single_add_to_cart_button")[0];if(l&&t&&"A"!=t.tagName&&!l.classList.contains("grouped_form")){var e=l.querySelector('[name="add-to-cart"]'),c=!!e&&e.value,u=l.getElementsByClassName("qty")[0],d=u?parseInt(u.getAttribute("max")):0,m=l.getElementsByClassName("additional-product")[0],g=m.getAttribute("data-in_stock"),v=m.getAttribute("data-out_of_stock"),f=m.getAttribute("data-not_enough"),y=m.getAttribute("data-valid_quantity");c&&t.addEventListener("click",function(t){t.preventDefault();var n=document.getElementsByClassName("cart-sidebar-content")[0],r=document.getElementsByClassName("shop-cart-count"),e=parseInt(m.value),a=parseInt(u.value),o=!1,s={};l.classList.contains("variations_form")&&(c=l.querySelector('[name="product_id"]').value,o=l.querySelector('[name="variation_id"]').value,l.querySelectorAll('select[name^="attribute"]').forEach(function(t){var e=t.name,a=t.value;s[e]=a}));if(a<1||isNaN(a))alert(y);else{if("yes"==g){if(e==d)return void alert(v);if(d<+a+ +e)return void alert(f)}m.value=+m.value+ +u.value,eventCartSidebarOpen(),cartSidebarOpen(),closeAll();var i=new Request(woostify_ajax.url,{method:"POST",body:"action=single_add_to_cart&nonce="+woostify_ajax.nonce+"&product_id="+c+"&product_qty="+a+"&variation_id="+o+"&variations="+JSON.stringify(s),credentials:"same-origin",headers:new Headers({"Content-Type":"application/x-www-form-urlencoded; charset=utf-8"})});fetch(i).then(function(t){200===t.status?t.json().then(function(t){for(var e=0,a=r.length;e<a;e++)r[e].innerHTML=t.item;n.innerHTML=t.content,eventCartSidebarClose()}):console.log("Looks like there was a problem. Status Code: "+t.status)}).catch(function(t){alert("Sorry, something went wrong. Please refresh this page to try again!"),console.log(t)})}})}}singleAddToCartButton();