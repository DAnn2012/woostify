"use strict";function renderSlider(e,t){var i=document.querySelectorAll(e);if(i.length)for(var o=0,n=i.length;o<n;o++)if(!i[o].classList.contains("flickity-enabled"))new Flickity(t.container,t)}function createImages(e,t,i){var o='<figure class="image-item ez-zoom" itemprop="associatedMedia" itemscope itemtype="http://schema.org/ImageObject">';return o+="<a href="+e+" data-size="+i+' itemprop="contentUrl" data-elementor-open-lightbox="no">',o+="<img src="+t+' itemprop="thumbnail">',o+="</a>",o+="</figure>"}function createThumbnails(e){var t='<div class="thumbnail-item">';return t+='<img src="'+e+'">',t+="</div>"}function woostifyStickySummary(){var e=document.querySelector(".has-gallery-list-layout .product-gallery.has-product-thumbnails"),t=document.querySelector(".has-gallery-list-layout .product-summary");if(e&&t&&!(window.innerWidth<992)&&!(e.offsetHeight<=t.offsetHeight)){var i=new WSYSticky(".summary.entry-summary",{stickyContainer:".product-page-container",marginTop:parseInt(woostify_woocommerce_general.sticky_top_space),marginBottom:parseInt(woostify_woocommerce_general.sticky_bottom_space)});jQuery("form.variations_form").on("found_variation",(function(){i.update()}))}}document.addEventListener("DOMContentLoaded",(function(){var e,t,i,o=document.querySelector(".product-gallery"),n=document.getElementById("product-thumbnail-images"),a=!!o&&(o.classList.contains("column-style")||o.classList.contains("grid-style")),s=document.createElement("button"),r=document.createElement("button"),l=woostify_product_images_slider_options.main,c=!!o&&o.querySelector(".image-item img"),u=c?c.offsetHeight:0,d=woostify_product_images_slider_options.thumb;function m(){var e=document.querySelector(".flickity-button.next"),t=document.querySelector(".flickity-button.previous");e&&(e.innerHTML=woostify_product_images_slider_options.next_icon),t&&(t.innerHTML=woostify_product_images_slider_options.prev_icon)}function y(){if(document.querySelector(".has-gallery-list-layout .product-gallery.has-product-thumbnails")&&!(window.innerWidth>991)){var t=woostify_product_images_slider_options.main;e=new Flickity("#product-images",t),m()}}function p(){var e=n,i=e.querySelectorAll(".thumbnail-item");i[0].classList.add("is-nav-selected"),i[0].classList.add("is-selected"),i.forEach((function(e,i){e.addEventListener("click",(function(){t.select(i)}))}));var o=0<t.selectedIndex?i[t.selectedIndex].offsetHeight:i[0].offsetHeight,a=e.offsetHeight;t.on("select",(function(){e.querySelectorAll(".thumbnail-item").forEach((function(e){e.classList.remove("is-nav-selected","is-selected")}));var n=0<=t.selectedIndex?i[t.selectedIndex]:i[0];n.classList.add("is-nav-selected","is-selected");var s=n.offsetTop+e.scrollTop-(a+o)/2;e.scrollTo({top:s,behavior:"smooth"})}))}function f(){t&&t.slider&&t.select(0)}function g(c,u,p){if(c.length&&!document.documentElement.classList.contains("quick-view-open")){o||(o=document.querySelector(".product-gallery"));for(var f="",g="",h=0,w=c.length;h<w;h++)if(u){var v=c[h].full_src_w+"x"+c[h].full_src_h;f+=createImages(c[h].full_src,c[h].src,v),g+=createThumbnails(c[h].gallery_thumbnail_src)}else if(p&&p==c[h][0].variation_id)for(var _=1,b=c[h].length;_<b;_++){v=c[h][_].full_src_w+"x"+c[h][_].full_src_h;f+=createImages(c[h][_].full_src,c[h][_].src,v),g+=createThumbnails(c[h][_].gallery_thumbnail_src)}if(t&&t.slider&&t.destroy(),i&&i.slider&&i.destroy(),e&&e.slider&&e.destroy(),f&&document.querySelector(".product-images")&&(document.querySelector(".product-images").querySelector("#product-images").innerHTML=f),document.querySelector(".product-thumbnail-images")&&(g?(document.querySelector(".product-thumbnail-images").querySelector("#product-thumbnail-images").innerHTML=g,document.querySelector(".product-gallery")&&document.querySelector(".product-gallery").classList.add("has-product-thumbnails")):document.querySelector(".product-thumbnail-images").innerHTML=""),a)y();else{if(t){if(t=new Flickity(l.container,l),window.matchMedia("( min-width: 768px )").matches&&o&&o.classList.contains("vertical-style")){var S=!!o&&o.querySelector(".image-item img");setTimeout((function(){var e=S?S.offsetHeight:0;n.style.maxHeight=e+"px"}),200)}m()}g&&(i&&(i=new Flickity(d.container,d)),setTimeout((function(){var e=0,t=n.querySelectorAll(".thumbnail-item");t.length&&t.forEach((function(t){var i=t.offsetHeight;i+=parseInt(window.getComputedStyle(t).getPropertyValue("margin-top")),i+=parseInt(window.getComputedStyle(t).getPropertyValue("margin-bottom")),e+=i})),e>n.offsetHeight?(n.classList.add("has-buttons"),r.style.display="block",s.style.display="block"):(n.classList.remove("has-buttons"),r.style.display="none",s.style.display="none")}),200))}var L=document.querySelectorAll(".product-thumbnail-images .thumbnail-item");document.querySelector(".product-thumbnail-images")&&(L.length<2?document.querySelector(".product-thumbnail-images").classList.add("has-single-thumbnail-image"):document.querySelector(".product-thumbnail-images")&&document.querySelector(".product-thumbnail-images").classList.remove("has-single-thumbnail-image")),"function"==typeof easyZoomHandle&&easyZoomHandle(),"function"==typeof initPhotoSwipe&&(o.classList.contains("wc-default-gallery")||a&&window.matchMedia("( min-width: 992px )").matches?initPhotoSwipe("#product-images","image"):initPhotoSwipe("#product-images","button"))}}function h(){jQuery("form.variations_form").on("found_variation",(function(e,t){f(),setTimeout((function(){window.dispatchEvent(new Event("resize"))}),200),"undefined"!=typeof woostify_variation_gallery&&woostify_variation_gallery.length&&g(woostify_variation_gallery,!1,t.variation_id)})),jQuery(".reset_variations").on("click",(function(){"undefined"!=typeof woostify_variation_gallery&&woostify_variation_gallery.length&&g(woostify_default_gallery,!0),document.body.classList.contains("has-gallery-slider-layout")&&(f(),setTimeout((function(){window.dispatchEvent(new Event("resize"))}),200),document.body.classList.contains("elementor-editor-active")||document.body.classList.contains("elementor-editor-preview")?document.getElementById("product-thumbnail-images")||document.querySelector(".product-gallery").classList.remove("has-product-thumbnails"):n||o.classList.remove("has-product-thumbnails"))}))}window.matchMedia("( min-width: 768px )").matches&&o&&o.classList.contains("vertical-style")&&(d.draggable=!1),n&&(t=new Flickity(l.container,l),m(),window.matchMedia("( max-width: 767px )").matches?o&&(i=new Flickity(d.container,d)):o&&o.classList.contains("vertical-style")?(n.style.maxHeight=u+"px",p(),function(){var e=n.parentElement;s.classList.add("thumb-btn","thumb-prev-btn","prev"),s.innerHTML=woostify_product_images_slider_options.vertical_prev_icon,r.classList.add("thumb-btn","thumb-next-btn","next"),r.innerHTML=woostify_product_images_slider_options.vertical_next_icon,e.appendChild(s),e.appendChild(r);var i=n.querySelectorAll(".thumbnail-item"),o=0;i.length&&i.forEach((function(e){var t=e.offsetHeight;t+=parseInt(window.getComputedStyle(e).getPropertyValue("margin-top")),t+=parseInt(window.getComputedStyle(e).getPropertyValue("margin-bottom")),o+=t}));o>n.offsetHeight?(n.classList.add("has-buttons"),r.style.display="block",s.style.display="block"):(n.classList.remove("has-buttons"),r.style.display="none",s.style.display="none");var a=document.querySelectorAll(".thumb-btn");a.length&&a.forEach((function(e){e.addEventListener("click",(function(){this.classList.contains("prev")?t.previous():t.next()}))}))}()):i=new Flickity(d.container,d)),window.addEventListener("resize",(function(){if(window.matchMedia("( min-width: 768px )").matches&&o&&o.classList.contains("vertical-style")&&n){var e=0,t=n.querySelectorAll(".thumbnail-item"),i=!!o&&o.querySelector(".image-item img"),a=i?i.offsetHeight:0;n.style.maxHeight=a+"px",p(),t.length&&t.forEach((function(t){var i=t.offsetHeight;i+=parseInt(window.getComputedStyle(t).getPropertyValue("margin-top")),i+=parseInt(window.getComputedStyle(t).getPropertyValue("margin-bottom")),e+=i})),e>n.offsetHeight?(n.classList.add("has-buttons"),r.style.display="block",s.style.display="block"):(n.classList.remove("has-buttons"),r.style.display="none",s.style.display="none")}})),h(),y(),window.addEventListener("load",(function(){woostifyStickySummary()})),"function"==typeof onElementorLoaded&&onElementorLoaded((function(){window.elementorFrontend.hooks.addAction("frontend/element_ready/global",(function(){document.getElementById("product-thumbnail-images")&&(renderSlider(l.container,l),renderSlider(d.container,d)),h()}))}))}));