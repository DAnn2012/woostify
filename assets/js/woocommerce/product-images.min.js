"use strict";function renderSlider(e,t){var i=document.querySelectorAll(e);if(i.length)for(var o=0,n=i.length;o<n;o++)if(!i[o].classList.contains("flickity-enabled"))new Flickity(t.container,t)}function createImages(e,t,i){var o='<figure class="image-item ez-zoom" itemprop="associatedMedia" itemscope itemtype="http://schema.org/ImageObject">';return o+="<a href="+e+" data-size="+i+' itemprop="contentUrl" data-elementor-open-lightbox="no">',o+="<img src="+t+' itemprop="thumbnail">',o+="</a>",o+="</figure>"}function createThumbnails(e){var t='<div class="thumbnail-item">';return t+='<img src="'+e+'">',t+="</div>"}function woostifyGalleryCarouselMobile(){if(document.querySelector(".has-gallery-list-layout .product-gallery.has-product-thumbnails")&&!(window.innerWidth>991)){var e=woostify_product_images_slider_options.main,t=(new Flickity("#product-images",e),document.querySelector(".flickity-button.next")),i=document.querySelector(".flickity-button.previous");t&&(t.innerHTML=woostify_product_images_slider_options.next_icon),i&&(i.innerHTML=woostify_product_images_slider_options.prev_icon)}}function woostifyStickySummary(){var e=document.querySelector(".has-gallery-list-layout .product-gallery.has-product-thumbnails"),t=document.querySelector(".has-gallery-list-layout .product-summary");if(e&&t&&!(window.innerWidth<992)&&!(e.offsetHeight<=t.offsetHeight)){var i=new WSYSticky(".summary.entry-summary",{stickyContainer:".product-page-container",marginTop:parseInt(woostify_woocommerce_general.sticky_top_space),marginBottom:parseInt(woostify_woocommerce_general.sticky_bottom_space)});jQuery("form.variations_form").on("found_variation",(function(){i.update()}))}}document.addEventListener("DOMContentLoaded",(function(){var e,t,i=document.querySelector(".product-gallery"),o=document.getElementById("product-thumbnail-images"),n=!!i&&(i.classList.contains("column-style")||i.classList.contains("grid-style")),a=document.createElement("button"),s=document.createElement("button"),r=woostify_product_images_slider_options.main,l=!!i&&i.querySelector(".image-item img"),c=l?l.offsetHeight:0,u=woostify_product_images_slider_options.thumb;function d(){var e=document.querySelector(".flickity-button.next"),t=document.querySelector(".flickity-button.previous");e&&(e.innerHTML=woostify_product_images_slider_options.next_icon),t&&(t.innerHTML=woostify_product_images_slider_options.prev_icon)}function m(){var t=o,i=t.querySelectorAll(".thumbnail-item");i[0].classList.add("is-nav-selected"),i[0].classList.add("is-selected"),i.forEach((function(t,i){t.addEventListener("click",(function(){e.select(i)}))}));var n=0<e.selectedIndex?i[e.selectedIndex].offsetHeight:i[0].offsetHeight,a=t.offsetHeight;e.on("select",(function(){t.querySelectorAll(".thumbnail-item").forEach((function(e){e.classList.remove("is-nav-selected","is-selected")}));var o=0<=e.selectedIndex?i[e.selectedIndex]:i[0];o.classList.add("is-nav-selected","is-selected");var s=o.offsetTop+t.scrollTop-(a+n)/2;t.scrollTo({top:s,behavior:"smooth"})}))}function y(){e&&e.slider&&e.select(0)}function p(l,c,m){if(l.length&&!document.documentElement.classList.contains("quick-view-open")){i||(i=document.querySelector(".product-gallery"));for(var y="",p="",f=0,g=l.length;f<g;f++)if(c){var h=l[f].full_src_w+"x"+l[f].full_src_h;y+=createImages(l[f].full_src,l[f].src,h),p+=createThumbnails(l[f].gallery_thumbnail_src)}else if(m&&m==l[f][0].variation_id)for(var _=1,w=l[f].length;_<w;_++){h=l[f][_].full_src_w+"x"+l[f][_].full_src_h;y+=createImages(l[f][_].full_src,l[f][_].src,h),p+=createThumbnails(l[f][_].gallery_thumbnail_src)}if(e&&e.slider&&e.destroy(),t&&t.slider&&t.destroy(),y&&document.querySelector(".product-images")&&(document.querySelector(".product-images").querySelector("#product-images").innerHTML=y),document.querySelector(".product-thumbnail-images")&&(p?(document.querySelector(".product-thumbnail-images").querySelector("#product-thumbnail-images").innerHTML=p,document.querySelector(".product-gallery")&&document.querySelector(".product-gallery").classList.add("has-product-thumbnails")):document.querySelector(".product-thumbnail-images").innerHTML=""),!n){if(e){if(e=new Flickity(r.container,r),window.matchMedia("( min-width: 768px )").matches&&i&&i.classList.contains("vertical-style")){var v=!!i&&i.querySelector(".image-item img");setTimeout((function(){var e=v?v.offsetHeight:0;o.style.maxHeight=e+"px"}),200)}d()}p&&(t&&(t=new Flickity(u.container,u)),setTimeout((function(){var e=0,t=o.querySelectorAll(".thumbnail-item");t.length&&t.forEach((function(t){var i=t.offsetHeight;i+=parseInt(window.getComputedStyle(t).getPropertyValue("margin-top")),i+=parseInt(window.getComputedStyle(t).getPropertyValue("margin-bottom")),e+=i})),e>o.offsetHeight?(o.classList.add("has-buttons"),s.style.display="block",a.style.display="block"):(o.classList.remove("has-buttons"),s.style.display="none",a.style.display="none")}),200))}var b=document.querySelectorAll(".product-thumbnail-images .thumbnail-item");document.querySelector(".product-thumbnail-images")&&(b.length<2?document.querySelector(".product-thumbnail-images").classList.add("has-single-thumbnail-image"):document.querySelector(".product-thumbnail-images")&&document.querySelector(".product-thumbnail-images").classList.remove("has-single-thumbnail-image")),"function"==typeof easyZoomHandle&&easyZoomHandle(),"function"==typeof initPhotoSwipe&&(i.classList.contains("wc-default-gallery")||n&&window.matchMedia("( min-width: 992px )").matches?initPhotoSwipe("#product-images","image"):initPhotoSwipe("#product-images","button"))}}function f(){jQuery("form.variations_form").on("found_variation",(function(e,t){y(),setTimeout((function(){window.dispatchEvent(new Event("resize"))}),200),"undefined"!=typeof woostify_variation_gallery&&woostify_variation_gallery.length&&p(woostify_variation_gallery,!1,t.variation_id)})),jQuery(".reset_variations").on("click",(function(){"undefined"!=typeof woostify_variation_gallery&&woostify_variation_gallery.length&&p(woostify_default_gallery,!0),document.body.classList.contains("has-gallery-slider-layout")&&(y(),setTimeout((function(){window.dispatchEvent(new Event("resize"))}),200),document.body.classList.contains("elementor-editor-active")||document.body.classList.contains("elementor-editor-preview")?document.getElementById("product-thumbnail-images")||document.querySelector(".product-gallery").classList.remove("has-product-thumbnails"):o||i.classList.remove("has-product-thumbnails"))}))}window.matchMedia("( min-width: 768px )").matches&&i&&i.classList.contains("vertical-style")&&(u.draggable=!1),o&&(e=new Flickity(r.container,r),d(),window.matchMedia("( max-width: 767px )").matches?i&&(t=new Flickity(u.container,u)):i&&i.classList.contains("vertical-style")?(o.style.maxHeight=c+"px",m(),function(){var t=o.parentElement;a.classList.add("thumb-btn","thumb-prev-btn","prev"),a.innerHTML=woostify_product_images_slider_options.vertical_prev_icon,s.classList.add("thumb-btn","thumb-next-btn","next"),s.innerHTML=woostify_product_images_slider_options.vertical_next_icon,t.appendChild(a),t.appendChild(s);var i=o.querySelectorAll(".thumbnail-item"),n=0;i.length&&i.forEach((function(e){var t=e.offsetHeight;t+=parseInt(window.getComputedStyle(e).getPropertyValue("margin-top")),t+=parseInt(window.getComputedStyle(e).getPropertyValue("margin-bottom")),n+=t}));n>o.offsetHeight?(o.classList.add("has-buttons"),s.style.display="block",a.style.display="block"):(o.classList.remove("has-buttons"),s.style.display="none",a.style.display="none");var r=document.querySelectorAll(".thumb-btn");r.length&&r.forEach((function(t){t.addEventListener("click",(function(){this.classList.contains("prev")?e.previous():e.next()}))}))}()):t=new Flickity(u.container,u)),window.addEventListener("resize",(function(){if(window.matchMedia("( min-width: 768px )").matches&&i&&i.classList.contains("vertical-style")&&o){var e=0,t=o.querySelectorAll(".thumbnail-item"),n=!!i&&i.querySelector(".image-item img"),r=n?n.offsetHeight:0;o.style.maxHeight=r+"px",m(),t.length&&t.forEach((function(t){var i=t.offsetHeight;i+=parseInt(window.getComputedStyle(t).getPropertyValue("margin-top")),i+=parseInt(window.getComputedStyle(t).getPropertyValue("margin-bottom")),e+=i})),e>o.offsetHeight?(o.classList.add("has-buttons"),s.style.display="block",a.style.display="block"):(o.classList.remove("has-buttons"),s.style.display="none",a.style.display="none")}})),f(),woostifyGalleryCarouselMobile(),window.addEventListener("load",(function(){woostifyStickySummary()})),"function"==typeof onElementorLoaded&&onElementorLoaded((function(){window.elementorFrontend.hooks.addAction("frontend/element_ready/global",(function(){document.getElementById("product-thumbnail-images")&&(renderSlider(r.container,r),renderSlider(u.container,u)),f()}))}))}));