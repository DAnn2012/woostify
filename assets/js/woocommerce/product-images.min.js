"use strict";function renderSlider(e,t){var i=document.querySelectorAll(e);if(i.length)for(var o=0,n=i.length;o<n;o++)if(!i[o].classList.contains("flickity-enabled"))new Flickity(t.container,t)}function createImages(e,t,i){var o=document.createElement("figure");o.className="image-item ez-zoom",o.setAttribute("itemprop","associatedMedia"),o.setAttribute("itemscope",""),o.setAttribute("itemtype","http://schema.org/ImageObject");var n="<a href="+e+" data-size="+i+' itemprop="contentUrl" data-elementor-open-lightbox="no">';return n+="<img src="+t+' itemprop="thumbnail">',n+="</a>",o.innerHTML=n,o}function createThumbnails(e){var t=document.createElement("div");return t.className="thumbnail-item",t.innerHTML='<img src="'+e+'">',t}function woostifyGalleryCarouselMobile(){if(document.querySelector(".has-gallery-list-layout .product-gallery.has-product-thumbnails")&&!(window.innerWidth>991)){var e=woostify_product_images_slider_options.main,t=(new Flickity("#product-images",e),document.querySelector(".flickity-button.next")),i=document.querySelector(".flickity-button.previous");t&&(t.innerHTML=woostify_product_images_slider_options.next_icon),i&&(i.innerHTML=woostify_product_images_slider_options.prev_icon)}}function woostifyStickySummary(){var e=document.querySelector(".has-gallery-list-layout .product-gallery.has-product-thumbnails"),t=document.querySelector(".has-gallery-list-layout .product-summary");if(e&&t&&!(window.innerWidth<992)&&!(e.offsetHeight<=t.offsetHeight)){var i=new WSYSticky(".summary.entry-summary",{stickyContainer:".product-page-container",marginTop:parseInt(woostify_woocommerce_general.sticky_top_space),marginBottom:parseInt(woostify_woocommerce_general.sticky_bottom_space)});jQuery("form.variations_form").on("found_variation",(function(){i.update()}))}}document.addEventListener("DOMContentLoaded",(function(){var e,t,i=document.querySelector(".product-gallery"),o=document.getElementById("product-thumbnail-images"),n=!!i&&(i.classList.contains("column-style")||i.classList.contains("grid-style")),r=document.createElement("button"),a=document.createElement("button"),s=woostify_product_images_slider_options.main,l=!!i&&i.querySelector(".image-item img"),c=l?l.offsetHeight:0,u=woostify_product_images_slider_options.thumb;function d(){var t=o,i=t.querySelectorAll(".thumbnail-item");i[0].classList.add("is-nav-selected"),i[0].classList.add("is-selected"),i.forEach((function(t,i){t.addEventListener("click",(function(){e.select(i)}))}));var n=0<e.selectedIndex?i[e.selectedIndex].offsetHeight:i[0].offsetHeight,r=t.offsetHeight;e.on("select",(function(){t.querySelectorAll(".thumbnail-item").forEach((function(e){e.classList.remove("is-nav-selected","is-selected")})),setTimeout((function(){var o=0<e.selectedIndex?i[e.selectedIndex]:i[0];o.classList.add("is-nav-selected"),o.classList.add("is-selected");var a=o.offsetTop+t.scrollTop-(r+n)/2;t.scrollTo({top:a,behavior:"smooth"})}),100)}))}function m(){e&&e.slider&&e.select(0)}function y(r,a,s){if(r.length&&!document.documentElement.classList.contains("quick-view-open")){i||(i=document.querySelector(".product-gallery"));for(var l=[],c=[],u=0,d=r.length;u<d;u++)if(a){var m=r[u].full_src_w+"x"+r[u].full_src_h;l.push(createImages(r[u].full_src,r[u].src,m)),c.push(createThumbnails(r[u].gallery_thumbnail_src))}else if(s&&s==r[u][0].variation_id)for(var y=1,p=r[u].length;y<p;y++){m=r[u][y].full_src_w+"x"+r[u][y].full_src_h;l.push(createImages(r[u][y].full_src,r[u][y].src,m)),c.push(createThumbnails(r[u][y].gallery_thumbnail_src))}if(0<l.length&&document.querySelector(".product-images")&&e&&e.slider&&(e.remove(document.querySelectorAll("#product-images .image-item")),e.append(l),e.reposition(),e.reloadCells()),document.querySelector(".product-thumbnail-images"))if(c.length>0)if(t&&t.slider)t.remove(document.querySelectorAll("#product-thumbnail-images .thumbnail-item")),t.append(c);else{document.querySelector(".product-thumbnail-images").querySelector("#product-thumbnail-images").innerHTML="";u=0;for(var f=c.length;u<f;u++)document.querySelector(".product-thumbnail-images").querySelector("#product-thumbnail-images").appendChild(c[u]);var h=!!i&&i.querySelector(".image-item img"),g=h?h.offsetHeight:0;setTimeout((function(){o.style.maxHeight=g+"px"}),200)}else document.querySelector(".product-thumbnail-images").querySelector("#product-thumbnail-images").innerHTML="";"function"==typeof easyZoomHandle&&easyZoomHandle(),"function"==typeof initPhotoSwipe&&(i.classList.contains("wc-default-gallery")||n&&window.matchMedia("( min-width: 992px )").matches?initPhotoSwipe("#product-images","image"):initPhotoSwipe("#product-images","button"))}}function p(){jQuery("form.variations_form").on("found_variation",(function(e,t){setTimeout((function(){m(),window.dispatchEvent(new Event("resize"))}),100),"undefined"!=typeof woostify_variation_gallery&&woostify_variation_gallery.length&&y(woostify_variation_gallery,!1,t.variation_id)})),jQuery(".reset_variations").on("click",(function(){"undefined"!=typeof woostify_variation_gallery&&woostify_variation_gallery.length&&y(woostify_default_gallery,!0),document.body.classList.contains("has-gallery-slider-layout")&&(setTimeout((function(){m(),window.dispatchEvent(new Event("resize"))}),100),document.body.classList.contains("elementor-editor-active")||document.body.classList.contains("elementor-editor-preview")?document.getElementById("product-thumbnail-images")||document.querySelector(".product-gallery").classList.remove("has-product-thumbnails"):o||i.classList.remove("has-product-thumbnails"))}))}window.matchMedia("( min-width: 768px )").matches&&i&&i.classList.contains("vertical-style")&&(u.draggable=!1),o&&(e=new Flickity(s.container,s),function(){var e=document.querySelector(".flickity-button.next"),t=document.querySelector(".flickity-button.previous");e&&(e.innerHTML=woostify_product_images_slider_options.next_icon);t&&(t.innerHTML=woostify_product_images_slider_options.prev_icon)}(),window.matchMedia("( max-width: 767px )").matches?i&&(t=new Flickity(u.container,u)):i&&i.classList.contains("vertical-style")?(o.style.maxHeight=c+"px",d(),function(){var t=o.parentElement;r.classList.add("thumb-btn","thumb-prev-btn","prev"),r.innerHTML=woostify_product_images_slider_options.vertical_prev_icon,a.classList.add("thumb-btn","thumb-next-btn","next"),a.innerHTML=woostify_product_images_slider_options.vertical_next_icon,t.appendChild(r),t.appendChild(a);var i=o.querySelectorAll(".thumbnail-item"),n=0;i.length&&i.forEach((function(e){var t=e.offsetHeight;t+=parseInt(window.getComputedStyle(e).getPropertyValue("margin-top")),t+=parseInt(window.getComputedStyle(e).getPropertyValue("margin-bottom")),n+=t}));n>o.offsetHeight?(o.classList.add("has-buttons"),a.style.display="block",r.style.display="block"):(o.classList.remove("has-buttons"),a.style.display="none",r.style.display="none");var s=document.querySelectorAll(".thumb-btn");s.length&&s.forEach((function(t){t.addEventListener("click",(function(){this.classList.contains("prev")?e.previous():e.next()}))}))}()):t=new Flickity(u.container,u)),window.addEventListener("resize",(function(){if(window.matchMedia("( min-width: 768px )").matches&&i&&i.classList.contains("vertical-style")&&o){var e=0,t=o.querySelectorAll(".thumbnail-item"),n=l?l.offsetHeight:0;o.style.maxHeight=n+"px",d(),t.length&&t.forEach((function(t){var i=t.offsetHeight;i+=parseInt(window.getComputedStyle(t).getPropertyValue("margin-top")),i+=parseInt(window.getComputedStyle(t).getPropertyValue("margin-bottom")),e+=i})),e>o.offsetHeight?(o.classList.add("has-buttons"),a.style.display="block",r.style.display="block"):(o.classList.remove("has-buttons"),a.style.display="none",r.style.display="none")}})),p(),woostifyGalleryCarouselMobile(),window.addEventListener("load",(function(){woostifyStickySummary()})),"function"==typeof onElementorLoaded&&onElementorLoaded((function(){window.elementorFrontend.hooks.addAction("frontend/element_ready/global",(function(){document.getElementById("product-thumbnail-images")&&(renderSlider(s.container,s),renderSlider(u.container,u)),p()}))}))}));