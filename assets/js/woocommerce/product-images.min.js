"use strict";function renderSlider(e,t){var i=document.querySelectorAll(e);if(i.length)for(var o=0,n=i.length;o<n;o++)if(!i[o].classList.contains("flickity-enabled"))new Flickity(t.container,t)}function createImages(e,t,i){var o='<figure class="image-item ez-zoom" itemprop="associatedMedia" itemscope itemtype="http://schema.org/ImageObject">';return o+="<a href="+e+" data-size="+i+' itemprop="contentUrl" data-elementor-open-lightbox="no">',o+="<img src="+t+' itemprop="thumbnail">',o+="</a>",o+="</figure>"}function createThumbnails(e){var t='<div class="thumbnail-item">';return t+='<img src="'+e+'">',t+="</div>"}function woostifyGalleryCarouselMobile(){if(document.querySelector(".has-gallery-list-layout .product-gallery.has-product-thumbnails")&&!(window.innerWidth>991)){var e=woostify_product_images_slider_options.main,t=(new Flickity("#product-images",e),document.querySelector(".flickity-button.next")),i=document.querySelector(".flickity-button.previous");t&&(t.innerHTML=woostify_product_images_slider_options.next_icon),i&&(i.innerHTML=woostify_product_images_slider_options.prev_icon)}}function woostifyStickySummary(){var e=document.querySelector(".has-gallery-list-layout .product-gallery.has-product-thumbnails"),t=document.querySelector(".has-gallery-list-layout .product-summary");if(e&&t&&!(window.innerWidth<992)&&!(e.offsetHeight<=t.offsetHeight)){var i=new WSYSticky(".summary.entry-summary",{stickyContainer:".product-page-container",marginTop:parseInt(woostify_woocommerce_general.sticky_top_space),marginBottom:parseInt(woostify_woocommerce_general.sticky_bottom_space)});jQuery("form.variations_form").on("found_variation",(function(){i.update()}))}}document.addEventListener("DOMContentLoaded",(function(){var e,t,i=document.querySelector(".product-gallery"),o=document.getElementById("product-thumbnail-images"),n=!!i&&(i.classList.contains("column-style")||i.classList.contains("grid-style")),r=document.createElement("button"),a=document.createElement("button"),s=woostify_product_images_slider_options.main,l=!!i&&i.querySelector(".image-item img"),c=l?l.offsetHeight:0,u=woostify_product_images_slider_options.thumb;if(window.matchMedia("( min-width: 768px )").matches&&i&&i.classList.contains("vertical-style")&&(u.draggable=!1),o){e=new Flickity(s.container,s);var d=document.querySelector(".flickity-button.next"),m=document.querySelector(".flickity-button.previous");d&&(d.innerHTML=woostify_product_images_slider_options.next_icon),m&&(m.innerHTML=woostify_product_images_slider_options.prev_icon),window.matchMedia("( max-width: 767px )").matches?i&&(t=new Flickity(u.container,u)):i&&i.classList.contains("vertical-style")?(o.style.maxHeight=c+"px",y(),function(){var t=o.parentElement;r.classList.add("thumb-btn","thumb-prev-btn","prev"),r.innerHTML=woostify_product_images_slider_options.vertical_prev_icon,a.classList.add("thumb-btn","thumb-next-btn","next"),a.innerHTML=woostify_product_images_slider_options.vertical_next_icon,t.appendChild(r),t.appendChild(a);var i=o.querySelectorAll(".thumbnail-item"),n=0;i.length&&i.forEach((function(e){var t=e.offsetHeight;t+=parseInt(window.getComputedStyle(e).getPropertyValue("margin-top")),t+=parseInt(window.getComputedStyle(e).getPropertyValue("margin-bottom")),n+=t}));n>o.offsetHeight?(o.classList.add("has-buttons"),a.style.display="block",r.style.display="block"):(o.classList.remove("has-buttons"),a.style.display="none",r.style.display="none");var s=document.querySelectorAll(".thumb-btn");s.length&&s.forEach((function(t){t.addEventListener("click",(function(){this.classList.contains("prev")?e.previous():e.next()}))}))}()):t=new Flickity(u.container,u)}function y(){var t=o,i=t.querySelectorAll(".thumbnail-item");i[0].classList.add("is-nav-selected"),i[0].classList.add("is-selected"),i.forEach((function(t,i){t.addEventListener("click",(function(){e.select(i)}))}));var n=i[e.selectedIndex].offsetHeight,r=t.offsetHeight;e.on("select",(function(){t.querySelector(".is-nav-selected").classList.remove("is-nav-selected"),t.querySelector(".is-selected").classList.remove("is-selected");var o=i[e.selectedIndex];o.classList.add("is-nav-selected"),o.classList.add("is-selected");var a=o.offsetTop+t.scrollTop-(r+n)/2;t.scrollTo({top:a,behavior:"smooth"})}))}function p(){e&&e.select(0)}function f(o,r,a){if(o.length&&!document.documentElement.classList.contains("quick-view-open")){i||(i=document.querySelector(".product-gallery"));for(var l="",c="",d=0,m=o.length;d<m;d++)if(r){var y=o[d].full_src_w+"x"+o[d].full_src_h;l+=createImages(o[d].full_src,o[d].src,y),c+=createThumbnails(o[d].gallery_thumbnail_src),o[d].has_default_thumbnails&&!0}else if(a&&a==o[d][0].variation_id)for(var p=1,f=o[d].length;p<f;p++){y=o[d][p].full_src_w+"x"+o[d][p].full_src_h;l+=createImages(o[d][p].full_src,o[d][p].src,y),c+=createThumbnails(o[d][p].gallery_thumbnail_src)}if(e&&e.version){e.destroy();let t=Object.getOwnPropertyNames(e);for(let i=0,o=t.length;i<o;i++)delete e[t[i]]}if(t&&t.version){t.destroy();let e=Object.getOwnPropertyNames(t);for(let i=0,o=e.length;i<o;i++)delete t[e[i]]}l&&document.querySelector(".product-images")&&(document.querySelector(".product-images").innerHTML='<div id="product-images">'+l+"</div>"),document.querySelector(".product-thumbnail-images")&&(c?(document.querySelector(".product-thumbnail-images").innerHTML='<div id="product-thumbnail-images">'+c+"</div>",document.querySelector(".product-gallery")&&document.querySelector(".product-gallery").classList.add("has-product-thumbnails")):document.querySelector(".product-thumbnail-images").innerHTML=""),c||(s.navContainer=!1),n||(void 0!==e&&Object.getOwnPropertyNames(e).length||(e=new Flickity(s.container,s)),!c||void 0!==t&&Object.getOwnPropertyNames(t).length||(t=new Flickity(u.container,u)));var g=document.querySelectorAll(".product-thumbnail-images .thumbnail-item");document.querySelector(".product-thumbnail-images")&&(g.length<2?document.querySelector(".product-thumbnail-images").classList.add("has-single-thumbnail-image"):document.querySelector(".product-thumbnail-images")&&document.querySelector(".product-thumbnail-images").classList.remove("has-single-thumbnail-image"));var h=document.getElementById("product-images-mw");h&&setTimeout((function(){h.style.height="auto"}),500),"function"==typeof easyZoomHandle&&easyZoomHandle(),"function"==typeof initPhotoSwipe&&(n&&window.matchMedia("( min-width: 992px )").matches?initPhotoSwipe("#product-images","image"):initPhotoSwipe("#product-images","button"))}}function g(){jQuery("form.variations_form").on("found_variation",(function(e,t){p(),setTimeout((function(){window.dispatchEvent(new Event("resize"))}),200),"undefined"!=typeof woostify_variation_gallery&&woostify_variation_gallery.length&&f(woostify_variation_gallery,!1,t.variation_id)})),jQuery(".reset_variations").on("click",(function(){"undefined"!=typeof woostify_variation_gallery&&woostify_variation_gallery.length&&f(woostify_default_gallery,!0),document.body.classList.contains("has-gallery-slider-layout")&&(setTimeout((function(){window.dispatchEvent(new Event("resize"))}),200),p(),document.body.classList.contains("elementor-editor-active")||document.body.classList.contains("elementor-editor-preview")?document.getElementById("product-thumbnail-images")||document.querySelector(".product-gallery").classList.remove("has-product-thumbnails"):o||i.classList.remove("has-product-thumbnails"))}))}window.addEventListener("resize",(function(){if(window.matchMedia("( min-width: 768px )").matches&&i&&i.classList.contains("vertical-style")&&o){var e=0,t=o.querySelectorAll(".thumbnail-item"),n=l?l.offsetHeight:0;o.style.maxHeight=n+"px",y(),t.length&&t.forEach((function(t){var i=t.offsetHeight;i+=parseInt(window.getComputedStyle(t).getPropertyValue("margin-top")),i+=parseInt(window.getComputedStyle(t).getPropertyValue("margin-bottom")),e+=i})),e>o.offsetHeight?(o.classList.add("has-buttons"),a.style.display="block",r.style.display="block"):(o.classList.remove("has-buttons"),a.style.display="none",r.style.display="none")}})),g(),woostifyGalleryCarouselMobile(),window.addEventListener("load",(function(){woostifyStickySummary()})),"function"==typeof onElementorLoaded&&onElementorLoaded((function(){window.elementorFrontend.hooks.addAction("frontend/element_ready/global",(function(){document.getElementById("product-thumbnail-images")&&(renderSlider(s.container,s),renderSlider(u.container,u)),g()}))}))}));