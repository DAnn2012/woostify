"use strict";function productVariation(u,o){var e=jQuery(u),t=o||"form.variations_form",f=e.find(".image-item:eq(0)"),_=f.find("img"),r=_.prop("src"),a=_.prop("srcset")||"",m=f.find("a"),i=m.prop("href"),y=e.find(".thumbnail-item:eq(0)"),n=y.find("img").prop("src");jQuery(t).length&&(jQuery(document.body).on("found_variation",t,function(o,e){var t=e.image.full_src,r=(e.image.src,e.image.thumb_src),a=e.is_in_stock;console.log(e),_.removeAttr("srcset"),y.find("img").prop("src",r),m.prop("href",t),f.addClass("image-loading"),_.prop("src",t).one("load",function(){f.removeClass("image-loading")}),"function"==typeof easyZoomHandle&&easyZoomHandle();var i=document.querySelector(u),n=!!i&&i.querySelector(".product-images"),s=!!n&&n.querySelector(".woostify-out-of-stock-label"),c=!!n&&n.querySelector(".woostify-tag-on-sale");if(a){if(e.max_qty){a=e.max_qty<=10?e.max_qty:Math.floor(66*Math.random())+10;var d=o.currentTarget.querySelector(".woocommerce-variation-availability"),l="";l+='<div class="woostify-single-product-stock stock">',l+='<span class="woostify-single-product-stock-label">Hurry! only '+e.max_qty+" left in stock.</span>",l+='<div class="woostify-product-stock-progress">',l+='<span class="woostify-single-product-stock-progress-bar" data-number="'+a+'"></span>',l+="</div>",l+="</div>",d.innerHTML=l,"function"==typeof woostifyStockQuantityProgressBar&&setTimeout(function(){woostifyStockQuantityProgressBar()},200)}s&&s.remove(),c&&woostify_woocommerce_variable_product_data.sale_tag_percent&&e.display_price!=e.display_regular_price&&(c.innerHTML="-"+Math.round((e.display_regular_price-e.display_price)/e.display_regular_price*100)+"%")}else if(woostify_woocommerce_variable_product_data){var p='<span class="woostify-out-of-stock-label position-'+woostify_woocommerce_variable_product_data.out_of_stock_display+" "+woostify_woocommerce_variable_product_data.out_of_stock_square+'">'+woostify_woocommerce_variable_product_data.out_of_stock_text+"</span>";s||n.insertAdjacentHTML("beforeend",p)}}),jQuery(".reset_variations").on("click",function(o){o.preventDefault(),_.prop("src",r),_.attr("srcset",a),y.find("img").prop("src",n),m.prop("href",i),"function"==typeof easyZoomHandle&&easyZoomHandle()}))}document.addEventListener("DOMContentLoaded",function(){productVariation(".product-gallery"),"function"==typeof onElementorLoaded&&onElementorLoaded(function(){window.elementorFrontend.hooks.addAction("frontend/element_ready/global",function(){productVariation(".product-gallery")})})});