"use strict";function productVariation(o,e){var t=jQuery(o),r=e||"form.variations_form",a=t.find(".image-item:eq(0)"),i=a.find("img"),n=i.prop("src"),c=i.prop("srcset")||"",s=a.find("a"),d=s.prop("href"),u=t.find(".thumbnail-item:eq(0)"),l=u.find("img").prop("src");if(jQuery(r).length){var f=document.querySelector(".elementor-widget-woostify-product-meta .sku"),p="";f&&(p=f.innerHTML),jQuery(document.body).on("found_variation",r,(function(e,t){var r=t.image.full_src,n=(t.image.src,t.image.thumb_src),c=t.is_in_stock;f&&(f.innerHTML=t.sku),i.removeAttr("srcset"),u.find("img").prop("src",n),s.prop("href",r),a.addClass("image-loading"),i.prop("src",r).one("load",(function(){a.removeClass("image-loading")})),"function"==typeof easyZoomHandle&&easyZoomHandle();var d=document.querySelector(o),l=!!d&&d.querySelector(".product-images"),p=!!l&&l.querySelector(".woostify-out-of-stock-label"),_=!!l&&l.querySelector(".woostify-tag-on-sale");if(c)t.max_qty&&"function"==typeof woostifyStockQuantityProgressBar&&setTimeout((function(){woostifyStockQuantityProgressBar()}),200),p&&p.remove(),_&&woostify_woocommerce_variable_product_data.sale_tag_percent&&t.display_price!=t.display_regular_price&&(_.innerHTML="-"+Math.round((t.display_regular_price-t.display_price)/t.display_regular_price*100)+"%");else if(woostify_woocommerce_variable_product_data){var m='<span class="woostify-out-of-stock-label position-'+woostify_woocommerce_variable_product_data.out_of_stock_display+" "+woostify_woocommerce_variable_product_data.out_of_stock_square+'">'+woostify_woocommerce_variable_product_data.out_of_stock_text+"</span>";p||l.insertAdjacentHTML("beforeend",m)}})),jQuery(".reset_variations").on("click",(function(o){o.preventDefault(),p&&(f.innerHTML=p),i.prop("src",n),i.attr("srcset",c),u.find("img").prop("src",l),s.prop("href",d),"function"==typeof easyZoomHandle&&easyZoomHandle()}))}}document.addEventListener("DOMContentLoaded",(function(){productVariation(".product-gallery"),"function"==typeof onElementorLoaded&&onElementorLoaded((function(){window.elementorFrontend.hooks.addAction("frontend/element_ready/global",(function(){productVariation(".product-gallery")}))}))}));