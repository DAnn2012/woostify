"use strict";function woostifyAjaxSingleAddToCartButton(){var t=document.querySelectorAll(".single_add_to_cart_button");t.length&&t.forEach(function(c){var t=c.closest("form.cart"),o=t.classList.contains("variations_form"),e=t.querySelector('[name="add-to-cart"]'),n=!!e&&e.value,s=t.querySelector(".qty"),l=t.querySelector(".additional-product"),d=!1,u={};if(o)var _=t.querySelector('[name="product_id"]'),f=t.querySelector('[name="variation_id"]'),v=t.querySelectorAll('select[name^="attribute"]');!n||t.classList.contains("grouped_form")||t.classList.contains("mnm_form")||c.addEventListener("click",function(t){t.preventDefault();var e=s?parseInt(s.value):0;o&&(n=_.value,d=f.value,v.forEach(function(t){var e=t.name,a=t.value;u[e]=a}));var r=document.querySelector(".cart-sidebar-content"),i=document.getElementsByClassName("shop-cart-count");if(s.classList.contains("ajax-ready")){c.classList.add("loading"),l&&(l.value=+l.value+ +s.value),"function"==typeof eventCartSidebarOpen&&eventCartSidebarOpen(),"function"==typeof cartSidebarOpen&&cartSidebarOpen(),"function"==typeof closeAll&&closeAll();var a=new Request(woostify_ajax_single_add_to_cart_data.ajax_url,{method:"POST",body:"action=single_add_to_cart&ajax_nonce="+woostify_ajax_single_add_to_cart_data.ajax_nonce+"&product_id="+n+"&product_qty="+e+"&variation_id="+d+"&variations="+JSON.stringify(u),credentials:"same-origin",headers:new Headers({"Content-Type":"application/x-www-form-urlencoded; charset=utf-8"})});fetch(a).then(function(t){if(200!==t.status)return alert(woostify_ajax_single_add_to_cart_data.ajax_error),void console.log("Status Code: "+t.status);t.json().then(function(t){if(i.length)for(var e=0,a=i.length;e<a;e++)i[e].innerHTML=t.item;if(r&&(r.innerHTML=t.content),"function"==typeof eventCartSidebarClose&&eventCartSidebarClose(),c.classList.remove("loading"),document.documentElement.classList.remove("quick-view-open"),c.classList.contains("woostify-buy-now")){var o=c.getAttribute("data-checkout_url");window.location=o}var n=document.querySelector(".woostify-total-price");n&&(n.innerHTML=t.total)})}).catch(function(t){alert(woostify_ajax_single_add_to_cart_data.ajax_error),console.log(t)})}})})}document.addEventListener("DOMContentLoaded",function(){woostifyAjaxSingleAddToCartButton()});