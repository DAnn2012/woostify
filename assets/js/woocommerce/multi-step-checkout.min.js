"use strict";var woostifyValidateEmail=function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())},woostifyExpandOrderReview=function(){var e=document.querySelector(".has-multi-step-checkout"),t=document.querySelector("form.woocommerce-checkout"),i=!!t&&t.querySelector(".woostify-before-order-review"),r=1;e&&i&&(i.onclick=function(){r=1===r?(t.classList.add("expanded-order-review"),2):(t.classList.remove("expanded-order-review"),1)})},woostifyMultiStepCheckout=function(){var e=document.querySelector(".has-multi-step-checkout"),d=document.querySelector(".multi-step-checkout");if(e&&d){var O=d.querySelectorAll(".multi-step-item"),Q=document.querySelector("form.woocommerce-checkout");if(O.length&&Q){var t=Q.querySelector("#shipping_method"),i=Q.querySelector(".wc_payment_methods"),r=Q.querySelector(".woocommerce-terms-and-conditions-wrapper"),V=Q.querySelector(".multi-step-checkout-wrapper"),o=(Q.querySelector('.multi-step-checkout-content[data-step="first"]'),Q.querySelector('.multi-step-checkout-content[data-step="second"]')),c=Q.querySelector('.multi-step-checkout-content[data-step="last"]'),n=Q.querySelector(".multi-step-checkout-button-wrapper"),l=(Q.querySelectorAll(".woocommerce-billing-fields__field-wrapper .validate-required"),n?n.querySelectorAll(".multi-step-checkout-button"):[]),z=!!n&&n.querySelector('.multi-step-checkout-button[data-action="continue"]'),P=z?z.getAttribute("data-continue"):"";if(l.length&&l.forEach(function(l){l.onclick=function(){var e=l.getAttribute("data-action"),t=d.querySelector(".multi-step-item.active"),i=!!t&&t.previousElementSibling,r=!!t&&t.nextElementSibling,o=Q.querySelector(".multi-step-checkout-content .woocommerce-terms-and-conditions-wrapper"),c=!!o&&o.querySelector('.multi-step-checkout-content [name="terms"]'),n=!c||c.checked;if("back"==e&&i&&i.click(),"continue"==e&&r&&r.click(),"place_order"==e){if(o){if(!n)return void o.classList.add("required-item");o.classList.remove("required-item")}document.getElementById("place_order")&&document.getElementById("place_order").click()}window.matchMedia("(max-width: 992px)").matches&&jQuery("html, body").animate({scrollTop:jQuery(d).offset().top},300)}}),t&&o){var a=t.querySelectorAll(".shipping_method"),u="";a.length&&(u+='<div class="shipping-methods-modified">',a.forEach(function(e,t){var i="checked"==e.getAttribute("checked")?'checked="checked"':"",r=e.nextElementSibling;u+='<div class="shipping-methods-modified-item">',u+='<label class="shipping-methods-modified-label" for="shipping-methods-index-'+t+'"><input type="radio" '+i+' name="ahihi-dongu-name" id="shipping-methods-index-'+t+'" class="shipping-methods-modified-input"><span>'+r.innerHTML+"</span></label>",u+="</div>"}),u+="</div>"),o.insertAdjacentHTML("beforeend",u);var s=document.querySelectorAll(".shipping-methods-modified-input");s.length&&s.forEach(function(e,i){e.onclick=function(){var e=i+1,t=document.querySelector("#shipping_method li:nth-of-type("+e+') input[type="radio"]');t&&t.click()}})}if(i&&c){var m='<ul class="wc_payment_methods payment_methods methods">'+i.innerHTML+"</ul>";c.insertAdjacentHTML("beforeend",m);var p=document.querySelectorAll('.multi-step-checkout-content .wc_payment_methods [name="payment_method"]');if(p.length&&p.forEach(function(t){var i=document.querySelector('.multi-step-checkout-button[data-action="place_order"]'),r=i.innerHTML;t.onclick=function(){var e=t.getAttribute("data-order_button_text");i.innerHTML=i&&e?e:r}}),r){var f='<div class="woocommerce-terms-and-conditions-wrapper">'+r.innerHTML+"</div>";c.insertAdjacentHTML("beforeend",f)}}var h=function(e){var t=0<arguments.length&&void 0!==e?e:[];if(t.length){t.forEach(function(e){var t=e.querySelector("[name]");t&&t.addEventListener("input",function(){!function(e,t){var i=0<arguments.length&&void 0!==e&&e,r=0<arguments.length&&void 0!==t&&t,o=i?i.value.trim():"";r&&(o?"email"==i.type?woostifyValidateEmail(o)?r.classList.remove("field-required"):r.classList.add("field-required"):r.classList.remove("field-required"):r.classList.add("field-required"))}(t,e)})})}},R=function(e){var t=Q.querySelectorAll(".woocommerce-billing-fields__field-wrapper .validate-required"),i=document.getElementById("ship-to-different-address-checkbox"),r=0<arguments.length&&void 0!==e&&e;if(r||h(t),i&&(t=i.checked?Q.querySelectorAll(".woocommerce-billing-fields__field-wrapper .validate-required, .woocommerce-shipping-fields__field-wrapper .validate-required"):Q.querySelectorAll(".woocommerce-billing-fields__field-wrapper .validate-required"),i.addEventListener("change",function(){t=this.checked?Q.querySelectorAll(".woocommerce-billing-fields__field-wrapper .validate-required, .woocommerce-shipping-fields__field-wrapper .validate-required"):Q.querySelectorAll(".woocommerce-billing-fields__field-wrapper .validate-required"),r||h(t)})),r)return t};R(),O.forEach(function(j,C){j.onclick=function(){var e=j.nextElementSibling,t=e?e.innerText:"",r=!1,i=R(!0);if(i.length&&i.forEach(function(e){var t=e.querySelector("[name]");if(t){var i=t.value.trim();if(!i)return r=!0,void e.classList.add("field-required");if("email"==t.type){if(!woostifyValidateEmail(i))return r=!0,void e.classList.add("field-required");e.classList.remove("field-required")}else e.classList.remove("field-required")}}),r)document.getElementById("place_order")&&document.getElementById("place_order").click();else{var o=document.querySelector(".woocommerce-NoticeGroup");o&&(o.style.display="none"),z&&(z.innerHTML=P+" "+t);var c=siblings(j);j.classList.add("active"),c.length&&c.forEach(function(e){e.classList.remove("active")});var n=Q.querySelector(".multi-step-checkout-content .woocommerce-terms-and-conditions-wrapper"),l=!!n&&n.querySelector('.multi-step-checkout-content [name="terms"]');l&&l.addEventListener("change",function(){this.checked&&n.classList.remove("required-item")});var d=document.querySelectorAll(".multi-step-review-information"),a=document.getElementById("billing_email"),u=a?a.value.trim():"",s=document.getElementById("billing_address_1"),m=document.getElementById("billing_address_2"),p=document.getElementById("billing_city"),f=document.getElementById("billing_country"),h=!!f&&document.querySelector('#billing_country option[value="'+f.value+'"]'),v=document.getElementById("ship-to-different-address-checkbox"),y=document.getElementById("shipping_address_1"),g=document.getElementById("shipping_address_2"),w=document.getElementById("shipping_city"),q=document.getElementById("shipping_country"),S=!!q&&document.querySelector('#shipping_country option[value="'+q.value+'"]'),k=document.querySelector('#shipping_method .shipping_method[checked="checked"]'),_=!!k&&k.id,b=!!_&&document.querySelector('#shipping_method label[for="'+_+'"]'),L="",E="",A="";L+=s?s.value.trim():"",L+=m?" "+m.value.trim():"",L+=p?" "+p.value.trim():"",L+=h?" "+h.innerText.trim():"",A=L,v&&v.checked&&(E+=y?y.value.trim():"",E+=g?" "+g.value.trim():"",E+=w?" "+w.value.trim():"",E+=S?" "+S.innerText.trim():"",A=E),d.length&&d.forEach(function(e){var t=e.querySelector('.multi-step-review-information-row[data-type="email"] .review-information-content'),i=e.querySelector('.multi-step-review-information-row[data-type="address"] .review-information-content'),r=e.querySelector('.multi-step-review-information-row[data-type="shipping"] .review-information-content');t&&(t.innerHTML=u),i&&(i.innerHTML=A),r&&b&&(r.innerHTML=b.innerHTML)});var T=document.querySelectorAll(".review-information-link");T.length&&T.forEach(function(i){i.onclick=function(){var e=i.closest(".multi-step-review-information-row"),t=!!e&&e.getAttribute("data-type");if(t)switch(t){default:case"email":O[0].click(),a&&a.focus();break;case"address":O[0].click(),v&&v.checked&&y?y.focus():s&&s.focus();break;case"shipping":O[1].click()}}});var x=C+1,M=V.querySelector(".multi-step-checkout-content.active"),B=V.querySelector(".multi-step-checkout-content:nth-of-type("+x+")");M&&M.classList.remove("active"),B&&B.classList.add("active");var I=0==C,H=x==O.length;V.classList.remove("first","last"),I?V.classList.add("first"):H&&V.classList.add("last")}}})}}},woostifyTotalPriceMobile=function(){var e=document.querySelector(".order-total td"),t=e?e.innerText:"",i=document.querySelector(".woostify-before-order-review .woostify-before-order-review-total-price strong");i&&t&&(i.innerText=t)};document.addEventListener("DOMContentLoaded",function(){woostifyMultiStepCheckout(),woostifyExpandOrderReview(),jQuery(document.body).on("updated_checkout",woostifyTotalPriceMobile)});