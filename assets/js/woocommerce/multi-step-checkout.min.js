"use strict";var woostifyValidateEmail=function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())},woostifyExpandOrderReview=function(){var e=document.querySelector(".has-multi-step-checkout"),t=document.querySelector("form.woocommerce-checkout"),i=!!t&&t.querySelector(".woostify-before-order-review"),r=1;e&&i&&(i.onclick=function(){1===r?(t.classList.add("expanded-order-review"),r=2):(t.classList.remove("expanded-order-review"),r=1)})},woostifyMultiStepCheckout=function(){var e=document.querySelector(".has-multi-step-checkout"),t=document.querySelector(".multi-step-checkout");if(e&&t){var i=t.querySelectorAll(".multi-step-item"),r=document.querySelector("form.woocommerce-checkout");if(i.length&&r){var o=r.querySelector("#shipping_method"),c=r.querySelector(".wc_payment_methods"),n=r.querySelector(".woocommerce-terms-and-conditions-wrapper"),l=r.querySelector(".multi-step-checkout-wrapper"),d=(r.querySelector('.multi-step-checkout-content[data-step="first"]'),r.querySelector('.multi-step-checkout-content[data-step="second"]')),a=r.querySelector('.multi-step-checkout-content[data-step="last"]'),u=r.querySelector(".multi-step-checkout-button-wrapper"),s=(r.querySelectorAll(".woocommerce-billing-fields__field-wrapper .validate-required"),u?u.querySelectorAll(".multi-step-checkout-button"):[]),m=!!u&&u.querySelector('.multi-step-checkout-button[data-action="continue"]'),p=m?m.getAttribute("data-continue"):"";if(s.length&&s.forEach((function(e){e.onclick=function(){var i=e.getAttribute("data-action"),o=t.querySelector(".multi-step-item.active"),c=!!o&&o.previousElementSibling,n=!!o&&o.nextElementSibling,l=r.querySelector(".multi-step-checkout-content .woocommerce-terms-and-conditions-wrapper"),d=!!l&&l.querySelector('.multi-step-checkout-content [name="terms"]'),a=!d||d.checked;if("back"==i&&c&&c.click(),"continue"==i&&n&&n.click(),"place_order"==i){if(l){if(!a)return void l.classList.add("required-item");l.classList.remove("required-item")}document.getElementById("place_order")&&document.getElementById("place_order").click()}window.matchMedia("(max-width: 992px)").matches&&jQuery("html, body").animate({scrollTop:jQuery(t).offset().top},300)}})),o&&d){var f=o.querySelectorAll(".shipping_method"),h="";f.length&&(h+='<div class="shipping-methods-modified">',f.forEach((function(e,t){var i="checked"==e.getAttribute("checked")?'checked="checked"':"",r=e.nextElementSibling;h+='<div class="shipping-methods-modified-item">',h+='<label class="shipping-methods-modified-label" for="shipping-methods-index-'+t+'"><input type="radio" '+i+' name="ahihi-dongu-name" id="shipping-methods-index-'+t+'" class="shipping-methods-modified-input"><span>'+r.innerHTML+"</span></label>",h+="</div>"})),h+="</div>"),d.insertAdjacentHTML("beforeend",h);var v=document.querySelectorAll(".shipping-methods-modified-input");v.length&&v.forEach((function(e,t){e.onclick=function(){var e=t+1,i=document.querySelector("#shipping_method li:nth-of-type("+e+') input[type="radio"]');i&&i.click()}}))}if(c&&a){var y='<ul class="wc_payment_methods payment_methods methods">'+c.innerHTML+"</ul>";a.insertAdjacentHTML("beforeend",y);var g=document.querySelectorAll('.multi-step-checkout-content .wc_payment_methods [name="payment_method"]');if(g.length&&g.forEach((function(e){var t=document.querySelector('.multi-step-checkout-button[data-action="place_order"]'),i=t.innerHTML;e.onclick=function(){var r=e.getAttribute("data-order_button_text");t.innerHTML=t&&r?r:i}})),n){var w='<div class="woocommerce-terms-and-conditions-wrapper">'+n.innerHTML+"</div>";a.insertAdjacentHTML("beforeend",w)}}var q=function(e){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(t.length){var i=function(e,t){var i=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=arguments.length>0&&void 0!==arguments[1]&&arguments[1],o=i?i.value.trim():"";r&&(o?"email"==i.type?woostifyValidateEmail(o)?r.classList.remove("field-required"):r.classList.add("field-required"):r.classList.remove("field-required"):r.classList.add("field-required"))};t.forEach((function(e){var t=e.querySelector("[name]");t&&t.addEventListener("input",(function(){i(t,e)}))}))}},S=function(e){var t=r.querySelectorAll(".woocommerce-billing-fields__field-wrapper .validate-required"),i=document.getElementById("ship-to-different-address-checkbox"),o=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(o||q(t),i&&(t=i.checked?r.querySelectorAll(".woocommerce-billing-fields__field-wrapper .validate-required, .woocommerce-shipping-fields__field-wrapper .validate-required"):r.querySelectorAll(".woocommerce-billing-fields__field-wrapper .validate-required"),i.addEventListener("change",(function(){t=this.checked?r.querySelectorAll(".woocommerce-billing-fields__field-wrapper .validate-required, .woocommerce-shipping-fields__field-wrapper .validate-required"):r.querySelectorAll(".woocommerce-billing-fields__field-wrapper .validate-required"),o||q(t)}))),o)return t};S(),i.forEach((function(e,t){e.onclick=function(){var o=e.nextElementSibling,c=o?o.innerText:"",n=!1,d=S(!0);if(d.length&&d.forEach((function(e){var t=e.querySelector("[name]");if(t){var i=t.value.trim();if(!i)return n=!0,void e.classList.add("field-required");if("email"==t.type){if(!woostifyValidateEmail(i))return n=!0,void e.classList.add("field-required");e.classList.remove("field-required")}else e.classList.remove("field-required")}})),n)document.getElementById("place_order")&&document.getElementById("place_order").click();else{var a=document.querySelector(".woocommerce-NoticeGroup");a&&(a.style.display="none"),m&&(m.innerHTML=p+" "+c);var u=siblings(e);e.classList.add("active"),u.length&&u.forEach((function(e){e.classList.remove("active")}));var s=r.querySelector(".multi-step-checkout-content .woocommerce-terms-and-conditions-wrapper"),f=!!s&&s.querySelector('.multi-step-checkout-content [name="terms"]');f&&f.addEventListener("change",(function(){this.checked&&s.classList.remove("required-item")}));var h=document.querySelectorAll(".multi-step-review-information"),v=document.getElementById("billing_email"),y=v?v.value.trim():"",g=document.getElementById("billing_address_1"),w=document.getElementById("billing_address_2"),q=document.getElementById("billing_city"),k=document.getElementById("billing_country"),_=!!k&&document.querySelector('#billing_country option[value="'+k.value+'"]'),b=document.getElementById("ship-to-different-address-checkbox"),L=document.getElementById("shipping_address_1"),E=document.getElementById("shipping_address_2"),A=document.getElementById("shipping_city"),T=document.getElementById("shipping_country"),x=!!T&&document.querySelector('#shipping_country option[value="'+T.value+'"]'),M=document.querySelector('#shipping_method .shipping_method[checked="checked"]'),B=!!M&&M.id,I=!!B&&document.querySelector('#shipping_method label[for="'+B+'"]'),H="",j="",C="";H+=g?g.value.trim():"",H+=w?" "+w.value.trim():"",H+=q?" "+q.value.trim():"",H+=_?" "+_.innerText.trim():"",C=H,b&&b.checked&&(j+=L?L.value.trim():"",j+=E?" "+E.value.trim():"",j+=A?" "+A.value.trim():"",j+=x?" "+x.innerText.trim():"",C=j),h.length&&h.forEach((function(e){var t=e.querySelector('.multi-step-review-information-row[data-type="email"] .review-information-content'),i=e.querySelector('.multi-step-review-information-row[data-type="address"] .review-information-content'),r=e.querySelector('.multi-step-review-information-row[data-type="shipping"] .review-information-content');t&&(t.innerHTML=y),i&&(i.innerHTML=C),r&&I&&(r.innerHTML=I.innerHTML)}));var O=document.querySelectorAll(".review-information-link");O.length&&O.forEach((function(e){e.onclick=function(){var t=e.closest(".multi-step-review-information-row"),r=!!t&&t.getAttribute("data-type");if(r)switch(r){default:case"email":i[0].click(),v&&v.focus();break;case"address":i[0].click(),b&&b.checked&&L?L.focus():g&&g.focus();break;case"shipping":i[1].click()}}}));var Q=t+1,V=l.querySelector(".multi-step-checkout-content.active"),z=l.querySelector(".multi-step-checkout-content:nth-of-type("+Q+")");V&&V.classList.remove("active"),z&&z.classList.add("active");var P=0==t,R=Q==i.length;l.classList.remove("first","last"),P?l.classList.add("first"):R&&l.classList.add("last")}}}))}}},woostifyTotalPriceMobile=function(){var e=document.querySelector(".order-total td"),t=e?e.innerText:"",i=document.querySelector(".woostify-before-order-review .woostify-before-order-review-total-price strong");i&&t&&(i.innerText=t)};document.addEventListener("DOMContentLoaded",(function(){woostifyMultiStepCheckout(),woostifyExpandOrderReview(),jQuery(document.body).on("updated_checkout",woostifyTotalPriceMobile)}));