"use strict";var woostifyValidateEmail=function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())},woostifyExpandOrderReview=function(){var e=document.querySelector(".has-multi-step-checkout"),t=document.querySelector("form.woocommerce-checkout"),i=!!t&&t.querySelector(".woostify-before-order-review"),o=1;e&&i&&(i.onclick=function(){1===o?(t.classList.add("expanded-order-review"),o=2):(t.classList.remove("expanded-order-review"),o=1)})},woostifyMultiStepCheckout=function(){var e=document.querySelector(".has-multi-step-checkout"),t=document.querySelector(".multi-step-checkout");if(e&&t){var i=t.querySelectorAll(".multi-step-item"),o=document.querySelector("form.woocommerce-checkout");if(i.length&&o){o.querySelector("#shipping_method");var r=o.querySelector(".wc_payment_methods"),c=o.querySelector(".woocommerce-terms-and-conditions-wrapper"),n=o.querySelector(".multi-step-checkout-wrapper"),l=(o.querySelector('.multi-step-checkout-content[data-step="first"]'),o.querySelector('.multi-step-checkout-content[data-step="second"]')),d=o.querySelector('.multi-step-checkout-content[data-step="last"]'),a=o.querySelector(".multi-step-checkout-button-wrapper"),s=(o.querySelectorAll(".woocommerce-billing-fields__field-wrapper .validate-required"),a?a.querySelectorAll(".multi-step-checkout-button"):[]),u=!!a&&a.querySelector('.multi-step-checkout-button[data-action="continue"]'),m=u?u.getAttribute("data-continue"):"";s.length&&s.forEach((function(e){e.onclick=function(){var i=e.getAttribute("data-action"),r=t.querySelector(".multi-step-item.active"),c=!!r&&r.previousElementSibling,n=!!r&&r.nextElementSibling,l=o.querySelector(".multi-step-checkout-content .woocommerce-terms-and-conditions-wrapper"),d=!!l&&l.querySelector('.multi-step-checkout-content [name="terms"]'),a=!d||d.checked;if("back"==i&&c&&c.click(),"continue"==i&&n&&n.click(),"place_order"==i){if(l){if(!a)return void l.classList.add("required-item");l.classList.remove("required-item")}document.getElementById("place_order")&&document.getElementById("place_order").click()}window.matchMedia("(max-width: 992px)").matches&&jQuery("html, body").animate({scrollTop:jQuery(t).offset().top},300)}}));if(r&&d){var p='<ul class="wc_payment_methods payment_methods methods">'+r.innerHTML+"</ul>";d.insertAdjacentHTML("beforeend",p);var f=document.querySelectorAll('.multi-step-checkout-content .wc_payment_methods [name="payment_method"]');if(f.length&&f.forEach((function(e){var t=document.querySelector('.multi-step-checkout-button[data-action="place_order"]'),i=t.innerHTML;e.onclick=function(){var o=e.getAttribute("data-order_button_text");t.innerHTML=t&&o?o:i}})),c){var h='<div class="woocommerce-terms-and-conditions-wrapper">'+c.innerHTML+"</div>";d.insertAdjacentHTML("beforeend",h)}}var v=function(e){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(t.length){var i=function(e,t){var i=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=arguments.length>0&&void 0!==arguments[1]&&arguments[1],r=i?i.value.trim():"";o&&(r?"email"==i.type?woostifyValidateEmail(r)?o.classList.remove("field-required"):o.classList.add("field-required"):o.classList.remove("field-required"):o.classList.add("field-required"))};t.forEach((function(e){var t=e.querySelector("[name]");t&&t.addEventListener("input",(function(){i(t,e)}))}))}},y=function(e){var t=o.querySelectorAll(".woocommerce-billing-fields__field-wrapper .validate-required"),i=document.getElementById("ship-to-different-address-checkbox"),r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(r||v(t),i&&(t=i.checked?o.querySelectorAll(".woocommerce-billing-fields__field-wrapper .validate-required, .woocommerce-shipping-fields__field-wrapper .validate-required"):o.querySelectorAll(".woocommerce-billing-fields__field-wrapper .validate-required"),i.addEventListener("change",(function(){t=this.checked?o.querySelectorAll(".woocommerce-billing-fields__field-wrapper .validate-required, .woocommerce-shipping-fields__field-wrapper .validate-required"):o.querySelectorAll(".woocommerce-billing-fields__field-wrapper .validate-required"),r||v(t)}))),r)return t};y(),i.forEach((function(e,t){e.onclick=function(){var r=e.nextElementSibling,c=r?r.innerText:"",d=!1,a=y(!0);if(a.length&&a.forEach((function(e){var t=e.querySelector("[name]");if(t){var i=t.value.trim();if(!i)return d=!0,void e.classList.add("field-required");if("email"==t.type){if(!woostifyValidateEmail(i))return d=!0,void e.classList.add("field-required");e.classList.remove("field-required")}else e.classList.remove("field-required")}})),d)document.getElementById("place_order")&&document.getElementById("place_order").click();else{var s=document.querySelector(".woocommerce-NoticeGroup");s&&(s.style.display="none"),u&&(u.innerHTML=m+" "+c);var p=siblings(e);e.classList.add("active"),p.length&&p.forEach((function(e){e.classList.remove("active")}));var f=o.querySelector(".multi-step-checkout-content .woocommerce-terms-and-conditions-wrapper"),h=!!f&&f.querySelector('.multi-step-checkout-content [name="terms"]');h&&h.addEventListener("change",(function(){this.checked&&f.classList.remove("required-item")}));var v=document.querySelectorAll(".multi-step-review-information"),g=document.getElementById("billing_email"),q=g?g.value.trim():"",w=document.getElementById("billing_address_1"),k=document.getElementById("billing_address_2"),S=document.getElementById("billing_city"),_=document.getElementById("billing_country"),b=!!_&&document.querySelector('#billing_country option[value="'+_.value+'"]'),L=document.getElementById("ship-to-different-address-checkbox"),E=document.getElementById("shipping_address_1"),A=document.getElementById("shipping_address_2"),T=document.getElementById("shipping_city"),M=document.getElementById("shipping_country"),x=!!M&&document.querySelector('#shipping_country option[value="'+M.value+'"]'),B=document.querySelector('#shipping_method .shipping_method[checked="checked"]'),I=!!B&&B.id,H=!!I&&document.querySelector('#shipping_method label[for="'+I+'"]'),j="",C="",O="";j+=w?w.value.trim():"",j+=k?" "+k.value.trim():"",j+=S?" "+S.value.trim():"",j+=b?" "+b.innerText.trim():"",O=j,L&&L.checked&&(C+=E?E.value.trim():"",C+=A?" "+A.value.trim():"",C+=T?" "+T.value.trim():"",C+=x?" "+x.innerText.trim():"",O=C),v.length&&v.forEach((function(e){var t=e.querySelector('.multi-step-review-information-row[data-type="email"] .review-information-content'),i=e.querySelector('.multi-step-review-information-row[data-type="address"] .review-information-content'),o=e.querySelector('.multi-step-review-information-row[data-type="shipping"] .review-information-content');t&&(t.innerHTML=q),i&&(i.innerHTML=O),o&&H&&(o.innerHTML=H.innerHTML)})),function(){if(l){var e=document.querySelectorAll("#shipping_method .shipping_method"),t="";e.length?(n.classList.remove("no-shipping-available"),e.forEach((function(e,i){var o="checked"==e.getAttribute("checked")?'checked="checked"':"",r=e.nextElementSibling;t+='<div class="shipping-methods-modified-item">',t+='<label class="shipping-methods-modified-label" for="shipping-methods-index-'+i+'"><input type="radio" '+o+' name="shipping-method-modified[0]" id="shipping-methods-index-'+i+'" class="shipping-methods-modified-input" value="'+e.value+'"><span>'+r.innerHTML+"</span></label>",t+="</div>"}))):n.classList.add("no-shipping-available"),document.querySelector(".shipping-methods-modified")?(console.log(1),document.querySelector(".shipping-methods-modified").innerHTML=t):(console.log(2),l.insertAdjacentHTML("beforeend",'<div class="shipping-methods-modified">'+t+"</div>"));var i=document.querySelectorAll(".shipping-methods-modified-input");i.length&&i.forEach((function(e,t){e.checked&&e.value.includes("local_pickup")&&n.classList.add("has-local-pickup"),e.onclick=function(){var i=t+1,o=document.querySelector("#shipping_method li:nth-of-type("+i+') input[type="radio"]');o&&o.click(),e.value.includes("local_pickup")?n.classList.add("has-local-pickup"):n.classList.remove("has-local-pickup")}}))}}();var Q=document.querySelectorAll(".review-information-link");Q.length&&Q.forEach((function(e){e.onclick=function(){var t=e.closest(".multi-step-review-information-row"),o=!!t&&t.getAttribute("data-type");if(o)switch(o){default:case"email":i[0].click(),g&&g.focus();break;case"address":i[0].click(),L&&L.checked&&E?E.focus():w&&w.focus();break;case"shipping":i[1].click()}}}));var V=t+1,z=n.querySelector(".multi-step-checkout-content.active"),P=n.querySelector(".multi-step-checkout-content:nth-of-type("+V+")");z&&z.classList.remove("active"),P&&P.classList.add("active");var R=0==t,Z=V==i.length;n.classList.remove("first","last"),R?n.classList.add("first"):Z&&n.classList.add("last")}}}))}}},woostifyTotalPriceMobile=function(){var e=document.querySelector(".order-total td"),t=e?e.innerText:"",i=document.querySelector(".woostify-before-order-review .woostify-before-order-review-total-price strong");i&&t&&(i.innerText=t)};document.addEventListener("DOMContentLoaded",(function(){woostifyMultiStepCheckout(),woostifyExpandOrderReview(),jQuery(document.body).on("updated_checkout",woostifyTotalPriceMobile)}));