"use strict";function cartSidebarOpen(){document.body.classList.contains("no-cart-sidebar")||document.documentElement.classList.add("cart-sidebar-open")}function eventCartSidebarOpen(){document.body.classList.add("updating-cart"),document.body.classList.remove("cart-updated")}function eventCartSidebarClose(){document.body.classList.add("cart-updated"),document.body.classList.remove("updating-cart")}function shoppingBag(){var e=document.getElementsByClassName("shopping-bag-button"),t=document.getElementById("shop-cart-sidebar");if(e.length&&t&&!document.body.classList.contains("woocommerce-cart")&&!document.body.classList.contains("woocommerce-checkout"))for(var r=0,o=e.length;r<o;r++)e[r].addEventListener("click",(function(e){e.preventDefault(),cartSidebarOpen(),closeAll()}))}var woostifyConditionScrolling=function(){return!!(document.body.classList.contains("woocommerce-demo-store")&&-1===document.cookie.indexOf("store_notice")||(document.body.classList.contains("has-order-sticky-button")||document.body.classList.contains("has-proceed-sticky-button"))&&window.innerWidth<768)},woostifyStockQuantityProgressBar=function(){var e=document.querySelectorAll(".woostify-single-product-stock-progress-bar");e.length&&e.forEach((function(e,t){var r=e.getAttribute("data-number")||0;e.style.width=r+"%"}))},confettiSnowEffect=function(e,t){var r=Date.now()+t,o=1;function a(e,t){return Math.random()*(t-e)+e}!function n(){var c=r-Date.now(),i=Math.max(200,c/t*500);o=Math.max(.8,o-.001),e({particleCount:1,startVelocity:0,ticks:i,origin:{x:Math.random(),y:Math.random()*o-.2},colors:["#EF2964"],shapes:["circle"],gravity:1,scalar:a(.4,1),drift:a(-.4,.4)}),c>0&&requestAnimationFrame(n)}(),function n(){var c=r-Date.now(),i=Math.max(200,c/t*500);o=Math.max(.8,o-.001),e({particleCount:1,startVelocity:0,ticks:i,origin:{x:Math.random(),y:Math.random()*o-.2},colors:["#00C09D"],shapes:["circle"],gravity:1,scalar:a(.4,1),drift:a(-.4,.4)}),c>0&&requestAnimationFrame(n)}(),function n(){var c=r-Date.now(),i=Math.max(200,c/t*500);o=Math.max(.8,o-.001),e({particleCount:1,startVelocity:0,ticks:i,origin:{x:Math.random(),y:Math.random()*o-.2},colors:["#2D87B0"],shapes:["circle"],gravity:1,scalar:a(.4,1),drift:a(-.4,.4)}),c>0&&requestAnimationFrame(n)}()},woostifyQuantityMiniCart=function(){var e=document.querySelector(".shopping-bag-button .shop-cart-count, .boostify-count-product"),t=document.querySelectorAll(".mini-cart-product-infor");t.length&&e?(e.classList.remove("hide"),t.forEach((function(e,t){var r=e.querySelectorAll(".mini-cart-product-qty"),o=e.querySelector("input.qty"),a=o.getAttribute("data-cart_item_key")||"",n=new Event("change"),c=new Event("quantity_updated");if(r.length&&o){t=0;for(var i=r.length;t<i;t++)r[t].onclick=function(){var e=Number(o.value||0),t=Number(o.getAttribute("step")||1),r=Number(o.getAttribute("min")||1),a=Number(o.getAttribute("max")),c=this.getAttribute("data-qty");if(e<1||isNaN(e))alert(woostify_woocommerce_general.qty_warning);else{if("minus"===c){if(e<=r||e-t<r||e<=t)return;o.value=e-t}else if("plus"===c){if(a&&(e>=a||e+t>=a))return;o.value=e+t}o.dispatchEvent(n)}};o.addEventListener("change",(function(){var e=Number(o.value||0);if(e<1||isNaN(e))alert(woostify_woocommerce_general.qty_warning);else{var t=new Request(woostify_woocommerce_general.ajax_url,{method:"POST",body:"action=update_quantity_in_mini_cart&ajax_nonce="+woostify_woocommerce_general.ajax_nonce+"&key="+a+"&qty="+e,credentials:"same-origin",headers:new Headers({"Content-Type":"application/x-www-form-urlencoded; charset=utf-8"})});document.documentElement.classList.add("mini-cart-updating"),fetch(t).then((function(e){if(200!==e.status)throw alert(woostify_woocommerce_general.ajax_error),console.log("Status Code: "+e.status),e;return e.json()})).then((function(e){if(e.success){var t=e.data,r=document.querySelector(".cart-sidebar-content .woocommerce-mini-cart__total .woocommerce-Price-amount.amount"),o=document.querySelectorAll(".woostify-header-total-price, .boostify-subtotal"),a=document.querySelectorAll(".shop-cart-count, .boostify-count-product"),n=document.querySelectorAll(".free-shipping-progress-bar");if(r&&(r.innerHTML=t.total_price,o.length))for(var c=0,i=o.length;c<i;c++)o[c].innerHTML=t.total_price;if(a.length)for(var s=0,u=a.length;s<u;s++)a[s].innerHTML=t.item;if(n.length&&t.hasOwnProperty("free_shipping_threshold")){let e=n[0].getAttribute("data-progress");for(var d=0,l=n.length;d<l;d++)n[d].setAttribute("data-progress",t.free_shipping_threshold.percent),n[d].querySelector(".progress-bar-message").innerHTML=t.free_shipping_threshold.message,n[d].querySelector(".progress-percent").innerHTML=t.free_shipping_threshold.percent+"%",n[d].querySelector(".progress-bar-status").style.minWidth=t.free_shipping_threshold.percent+"%",n[d].querySelector(".progress-bar-status").style.transitionDuration=".6s",100<=parseInt(t.free_shipping_threshold.percent)?n[d].querySelector(".progress-bar-status").classList.add("success"):n[d].querySelector(".progress-bar-status").classList.remove("success");if(e<100&&t.free_shipping_threshold.percent>=100){let e=document.createElement("canvas");e.className="confetti-canvas",document.querySelector("#shop-cart-sidebar").appendChild(e);let t=confetti.create(e,{resize:!0});confettiSnowEffect(t,4e3),setTimeout((function(){t.reset(),document.querySelector(".confetti-canvas").remove()}),4e3)}}}})).catch((function(e){console.log(e)})).finally((function(){document.documentElement.classList.remove("mini-cart-updating"),document.dispatchEvent(c)}))}}))}}))):e&&e.classList.add("hide")},updateHeaderCartPrice=function(){var e=document.querySelector(".cart-sidebar-content .woocommerce-mini-cart__total .woocommerce-Price-amount.amount"),t=document.querySelectorAll(".woostify-header-total-price"),r=document.querySelector(".woostify-header-total-price .woocommerce-Price-currencySymbol, .boostify-subtotal .woocommerce-Price-currencySymbol");if(t.length)for(var o=0,a=t.length;o<a;o++)t[o].innerHTML=e?'<span class="woocommerce-Price-amount amount">'+e.innerHTML+"</span>":'<span class="woocommerce-Price-amount amount"><bdi><span class="woocommerce-Price-currencySymbol">'+r.innerHTML+"</span>0</bdi></span>"};document.addEventListener("DOMContentLoaded",(function(){let e=document.querySelectorAll(".free-shipping-progress-bar"),t=0;e.length&&(t=parseInt(e[0].getAttribute("data-progress"))),shoppingBag(),woostifyQuantityMiniCart(),window.addEventListener("load",(function(){woostifyStockQuantityProgressBar()})),jQuery(document.body).on("adding_to_cart",(function(){eventCartSidebarOpen()})).on("added_to_cart",(function(e,t,r,o){if(cartSidebarOpen(),woostifyQuantityMiniCart(),updateHeaderCartPrice(),eventCartSidebarClose(),closeAll(),o=void 0!==o&&o){if(o.removeClass("loading"),t&&o.addClass("added"),t&&!wc_add_to_cart_params.is_cart&&0===o.parent().find(".added_to_cart").length){var a=get_svg_icon("shopping-cart-full");o.after('<a href="'+wc_add_to_cart_params.cart_url+'" class="added_to_cart wc-forward" title="'+wc_add_to_cart_params.i18n_view_cart+'">'+a+wc_add_to_cart_params.i18n_view_cart+"</a>")}jQuery(document.body).trigger("wc_cart_button_updated",[o])}})).on("removed_from_cart",(function(){woostifyQuantityMiniCart(),updateHeaderCartPrice()})).on("updated_cart_totals",(function(){"function"==typeof customQuantity&&customQuantity(),woostifyQuantityMiniCart(),updateHeaderCartPrice()})).on("wc_fragments_loaded wc_fragments_refreshed",(function(){woostifyQuantityMiniCart(),updateHeaderCartPrice();let r=document.querySelectorAll(".free-shipping-progress-bar"),o=0;if(r.length&&(o=parseInt(r[0].getAttribute("data-progress"))),!e.length&&o>=100||t<o&&o>=100){let e=document.createElement("canvas");e.className="confetti-canvas",document.querySelector("#shop-cart-sidebar").appendChild(e);let t=confetti.create(e,{resize:!0});confettiSnowEffect(t,4e3),setTimeout((function(){t.reset(),document.querySelector(".confetti-canvas").remove()}),4e3)}t=o})).on("wc_cart_emptied",(function(){location.reload()}))}));